---
// utils imports
import { formatBlogPosts } from "../../scripts/utils";
import BaseLayout from "../../layouts/BaseLayout.astro";

const allPosts = await Astro.glob("./*.md");
const formattedPosts = formatBlogPosts(allPosts);
---

<BaseLayout title="My Blog">
  <section class="container" aria-label="New Blog Posts">
    <h1 class="h1">New Blog Posts</h1>
    <div class="post-container">
        <ul>
        {formattedPosts.map((post) => <li><a href={post.url}>{post.frontmatter.title}</a> -
         {post.frontmatter.date.slice(0, 10)}</li>)}
        </ul>
    </div>
  </section>
</BaseLayout>